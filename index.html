<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="qc:admins" content="50071640677633352655745575415541657"/>
    <title>the timeline for _</title>
    <link rel="stylesheet" href="./libs/angular/angular-material.min.css"/>
    <link rel="stylesheet" href="./libs/mdl/material-icons.css"/>
    <link rel="stylesheet" href="./styles/index.css"/>

</head>
<body style="visibility: hidden">
<div class="container" ng-controller="PostCtrl">
    <div ng-if="!login">
        <md-content>
            <md-card>
                <md-card-content>
                    <h1 class="md-title">请先登录</h1>
                    <p layout="row">
                        <md-button ng-click="authWithQQ()" class="md-raised md-primary" flex>用QQ登录</md-button>
                    </p>
                </md-card-content>
            </md-card>
        </md-content>
    </div>
    <div ng-if="login">

        <form ng-submit="addPost()" layout="column" layout-padding="10px"
              style="background: rgba(255,255,255,.8);border-radius: 5px;margin-bottom: 10px;">
            <md-input-container>
                <label for="desc">Text</label>
                <input type="text" id="desc" ng-model="text"/>
            </md-input-container>

            <div layout id="uploader">
                <md-input-container flex>
                    <label for="img">Image</label>
                    <input type="text" id="img" ng-model="img"/>
                </md-input-container>
                <md-button id="uploaderBtn" class="md-raised md-primary" ng-disabled="uploading">
                    {{uploading?'上传中...':'选择文件'}}
                </md-button>
            </div>

            <div class="align-right">
                <md-button class="md-raised md-primary">添加</md-button>
            </div>
        </form>

        <md-content>
            <md-card ng-repeat="post in posts">
                <div class="i-card-cover" card-cover="{{post.img}}?imageView2/2/w/800/q/60"
                     ng-if="post.img && post.img != 'null' && post.img !='' && post.img.indexOf('http') == 0"></div>
                <md-card-content>
                    <p>{{post.text}}</p>

                    <p class="timestamp">{{post.time | date:'yyyy-MM-dd H:mm:ss'}}</p>
                </md-card-content>
            </md-card>
        </md-content>

        <!--<ul>
            <li ng-repeat="post in posts">
                [<span class="timestamp">{{post.time | date:'yyyy-MM-dd H:mm:ss'}}</span>] {{post.text}}
                <div class="media-holder"
                     ng-if="post.img && post.img!=null && post.img != 'null' && post.img !='' && post.img.indexOf('http') == 0">
                    <img width="100" ng-src="{{post.img}}"/>
                </div>
            </li>
            <div ng-show="loading" class="mdl-spinner mdl-js-spinner is-active"></div>
        </ul>-->
    </div>
</div>

<div class="background"></div>

<a class="github" href="https://github.com/indooorsman/demo-timeline/tree/gh-pages" target="_blank">View Source On
    Github</a>
<script src="./libs/CryptoJS.js"></script>
<script src="https://cdn.wilddog.com/js/client/current/wilddog.js"></script>
<script src="./libs/plupload.full.min.js"></script>
<script src="./libs/qiniu.js"></script>
<script src="./libs/angular/angular.min.js"></script>
<script src="./libs/angular/angular-aria.min.js"></script>
<script src="./libs/angular/angular-animate.min.js"></script>
<script src="./libs/angular/angular-material.min.js"></script>
<script src="./scripts/index.js"></script>
<script src="./scripts/controllers/index.js"></script>
<script src="./scripts/services/index.js"></script>
<script src="./scripts/directives/index.js"></script>

</body>
</html>